
              <html>
              <body>
              <style>
              .node
              {
                transition: all 0.05s ease-out;
              }
              .node:hover
              {
                stroke-width: 1.5;
                cursor:pointer
              }
              .node:hover
              ellipse
              {
                fill: #EEE;
              }
              textarea#infobox {
                position: fixed;
                display: block;
                top: 0;
                right: 0;
              }
              .dropbutton {
                padding: 10px;
                border: none;
              }
              .dropbutton:hover, .dropbutton:focus {
                background-color: #777777;
              }
              .dropdown {
                margin-right: 5px;
                position: fixed;
                top: 5px;
                right: 0px;
              }
              .dropdown-content {
                background-color: white;
                display: none;
                position: absolute;
                width: 70px;
                box-shadow: 0px 5px 10px 0px rgba(0,0,0,0.2);
                z-index: 1;
              }
              .dropdown-content a {
                color: black;
                padding: 8px 10px;
                text-decoration: none;
                font-size: 10px;
                display: block;
              }
              .dropdown-content a:hover { background-color: #f1f1f1; }
              .show { display:block; }
              </style>
              
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="345pt" height="216pt"
 viewBox="0.00 0.00 344.54 216.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 212)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-212 340.5447,-212 340.5447,4 -4,4"/>
<!-- constructor -->
<g id="node1" class="node">
<title>constructor</title>
<g id="a_node1"><a xlink:title="Function: &#10;	constructor() returns()&#10;&#45;&#45;&#45;&#10;Modifiers: &#10;&#45;&#45;&#45;&#10;Requires: &#10;&#45;&#45;&#45;&#10;State Variables Read: &#10;&#45;&#45;&#45;&#10;State Variables Written: &#10;	value(uint256)&#10;	seller(address)">
<ellipse fill="none" stroke="#000000" cx="49.8895" cy="-104" rx="49.7792" ry="18"/>
<text text-anchor="middle" x="49.8895" y="-99.8" font-family="Times,serif" font-size="14.00" fill="#000000">constructor</text>
</a>
</g>
</g>
<!-- abort -->
<g id="node2" class="node">
<title>abort</title>
<g id="a_node2"><a xlink:title="Function: &#10;	abort() returns()&#10;&#45;&#45;&#45;&#10;Modifiers: &#10;	onlySeller() returns()&#10;	inState(Purchase.State) returns()&#10;&#45;&#45;&#45;&#10;Requires: &#10;	require(bool,string)(state == _state,Invalid state.)&#10;	require(bool,string)(msg.sender == seller,Only seller can call this.)&#10;&#45;&#45;&#45;&#10;State Variables Read: &#10;	state(Purchase.State)&#10;	seller(address)&#10;&#45;&#45;&#45;&#10;State Variables Written: &#10;	state(Purchase.State)">
<ellipse fill="none" stroke="#000000" cx="235.8895" cy="-190" rx="28.0565" ry="18"/>
<text text-anchor="middle" x="235.8895" y="-185.8" font-family="Times,serif" font-size="14.00" fill="#000000">abort</text>
</a>
</g>
</g>
<!-- abort&#45;&gt;constructor -->
<g id="edge3" class="edge">
<title>abort&#45;&gt;constructor</title>
<path fill="none" stroke="#000000" d="M211.5092,-180.3611C194.112,-173.3548 170.234,-163.4766 149.5721,-154 128.7964,-144.4712 105.9837,-133.0978 87.4308,-123.6075"/>
<polygon fill="#000000" stroke="#000000" points="88.9163,-120.4358 78.4224,-118.9766 85.7159,-126.6614 88.9163,-120.4358"/>
<text text-anchor="middle" x="165.0482" y="-142.8" font-family="Times,serif" font-size="14.00" fill="#000000">seller</text>
</g>
<!-- confirmPurchase -->
<g id="node3" class="node">
<title>confirmPurchase</title>
<g id="a_node3"><a xlink:title="Function: &#10;	confirmPurchase() returns()&#10;&#45;&#45;&#45;&#10;Modifiers: &#10;	condition(bool) returns()&#10;	inState(Purchase.State) returns()&#10;&#45;&#45;&#45;&#10;Requires: &#10;	require(bool,string)(state == _state,Invalid state.)&#10;	require(bool)(_condition)&#10;&#45;&#45;&#45;&#10;State Variables Read: &#10;	state(Purchase.State)&#10;&#45;&#45;&#45;&#10;State Variables Written: &#10;	state(Purchase.State)&#10;	buyer(address)">
<ellipse fill="none" stroke="#000000" cx="186.8895" cy="-104" rx="69.5823" ry="18"/>
<text text-anchor="middle" x="186.8895" y="-99.8" font-family="Times,serif" font-size="14.00" fill="#000000">confirmPurchase</text>
</a>
</g>
</g>
<!-- abort&#45;&gt;confirmPurchase -->
<g id="edge1" class="edge">
<title>abort&#45;&gt;confirmPurchase</title>
<path fill="none" stroke="#000000" d="M213.1616,-178.7597C203.6858,-172.7984 193.6439,-164.5099 188.2342,-154 184.8307,-147.3878 183.5539,-139.6039 183.3617,-132.1723"/>
<polygon fill="#000000" stroke="#000000" points="186.8636,-132.1725 183.7037,-122.0598 179.8676,-131.9358 186.8636,-132.1725"/>
<text text-anchor="middle" x="200.7171" y="-142.8" font-family="Times,serif" font-size="14.00" fill="#000000">state</text>
</g>
<!-- confirmReceived -->
<g id="node4" class="node">
<title>confirmReceived</title>
<g id="a_node4"><a xlink:title="Function: &#10;	confirmReceived() returns()&#10;&#45;&#45;&#45;&#10;Modifiers: &#10;	onlyBuyer() returns()&#10;	inState(Purchase.State) returns()&#10;&#45;&#45;&#45;&#10;Requires: &#10;	require(bool,string)(state == _state,Invalid state.)&#10;	require(bool,string)(msg.sender == buyer,Only buyer can call this.)&#10;&#45;&#45;&#45;&#10;State Variables Read: &#10;	state(Purchase.State)&#10;	buyer(address)&#10;&#45;&#45;&#45;&#10;State Variables Written: &#10;	state(Purchase.State)">
<ellipse fill="none" stroke="#000000" cx="252.8895" cy="-18" rx="70.534" ry="18"/>
<text text-anchor="middle" x="252.8895" y="-13.8" font-family="Times,serif" font-size="14.00" fill="#000000">confirmReceived</text>
</a>
</g>
</g>
<!-- abort&#45;&gt;confirmReceived -->
<g id="edge2" class="edge">
<title>abort&#45;&gt;confirmReceived</title>
<path fill="none" stroke="#000000" d="M244.5405,-172.7309C251.0708,-159.1866 259.8998,-139.7253 265.8895,-122 273.7921,-98.6135 275.9803,-92.5137 278.8895,-68 279.6227,-61.8211 280.8038,-59.9204 278.8895,-54 277.8132,-50.6715 276.3016,-47.3919 274.5428,-44.2485"/>
<polygon fill="#000000" stroke="#000000" points="277.4606,-42.3149 269.088,-35.8226 271.5845,-46.1191 277.4606,-42.3149"/>
<text text-anchor="middle" x="288.7171" y="-99.8" font-family="Times,serif" font-size="14.00" fill="#000000">state</text>
</g>
<!-- confirmPurchase&#45;&gt;abort -->
<g id="edge5" class="edge">
<title>confirmPurchase&#45;&gt;abort</title>
<path fill="none" stroke="#000000" d="M201.4686,-121.7539C205.7549,-127.4004 210.2621,-133.795 213.8895,-140 218.1297,-147.2535 222.0699,-155.4748 225.4099,-163.1253"/>
<polygon fill="#000000" stroke="#000000" points="222.2021,-164.5264 229.297,-172.3948 228.6575,-161.8193 222.2021,-164.5264"/>
<text text-anchor="middle" x="232.7171" y="-142.8" font-family="Times,serif" font-size="14.00" fill="#000000">state</text>
</g>
<!-- confirmPurchase&#45;&gt;confirmReceived -->
<g id="edge4" class="edge">
<title>confirmPurchase&#45;&gt;confirmReceived</title>
<path fill="none" stroke="#000000" d="M170.6737,-86.0734C163.7396,-76.1677 158.5973,-63.9006 165.2342,-54 171.0654,-45.3013 179.4164,-38.7027 188.6735,-33.6977"/>
<polygon fill="#000000" stroke="#000000" points="190.2457,-36.8257 197.7739,-29.3707 187.2399,-30.5039 190.2457,-36.8257"/>
<text text-anchor="middle" x="178.7171" y="-56.8" font-family="Times,serif" font-size="14.00" fill="#000000">state</text>
</g>
<!-- confirmReceived&#45;&gt;abort -->
<g id="edge7" class="edge">
<title>confirmReceived&#45;&gt;abort</title>
<path fill="none" stroke="#000000" d="M275.4411,-35.0982C281.6814,-40.6245 288.0592,-47.1173 292.8895,-54 310.565,-79.1861 317.8701,-93.6587 305.8895,-122 297.4288,-142.0144 279.8769,-159.0418 264.4662,-171.0518"/>
<polygon fill="#000000" stroke="#000000" points="262.1367,-168.4222 256.1963,-177.195 266.311,-174.0415 262.1367,-168.4222"/>
<text text-anchor="middle" x="323.7171" y="-99.8" font-family="Times,serif" font-size="14.00" fill="#000000">state</text>
</g>
<!-- confirmReceived&#45;&gt;confirmPurchase -->
<g id="edge6" class="edge">
<title>confirmReceived&#45;&gt;confirmPurchase</title>
<path fill="none" stroke="#000000" d="M232.0753,-35.2069C225.9581,-40.8312 219.5279,-47.3507 214.3582,-54 208.9126,-61.0042 203.9147,-69.2287 199.718,-76.9618"/>
<polygon fill="#000000" stroke="#000000" points="196.5096,-75.5463 195.02,-86.0359 202.7259,-78.7647 196.5096,-75.5463"/>
<text text-anchor="middle" x="246.1551" y="-56.8" font-family="Times,serif" font-size="14.00" fill="#000000">state, buyer</text>
</g>
</g>
</svg>

<textarea id="infobox" disabled=true rows=40 cols=80></textarea>
<script>

               // Set info textbox contents to the title of the given element, with line endings replaced suitably.
               function setInfoContents(element){
                   document.getElementById('infobox').value = element.getAttribute('xlink:title').replace(/\\n/g, '\n');
               }
               // Make all node anchor tags in the svg clickable.
               for (var el of Array.from(document.querySelectorAll(".node a"))) {
                   el.setAttribute("onclick", "setInfoContents(this);");
               }
               const svg = document.querySelector('svg')
               const NS = "http://www.w3.org/2000/svg";
               const defs = document.createElementNS( NS, "defs" );
               // IIFE add filter to svg to allow shadows to be added to nodes within it
               (function(){
                 defs.innerHTML = makeShadowFilter()
                 svg.insertBefore(defs,svg.children[0])
               })()
               function colorToID(color){
                 return color.replace(/[^a-zA-Z0-9]/g,'_')
               }
               function makeShadowFilter({color = 'black',x = 0,y = 0, blur = 3} = {}){
                 return `
                 <filter id="filter_${colorToID(color)}" x="-40%" y="-40%" width="250%" height="250%">
                   <feGaussianBlur in="SourceAlpha" stdDeviation="${blur}"/>
                   <feOffset dx="${x}" dy="${y}" result="offsetblur"/>
                   <feFlood flood-color="${color}"/>
                   <feComposite in2="offsetblur" operator="in"/>
                   <feMerge>
                     <feMergeNode/>
                     <feMergeNode in="SourceGraphic"/>
                   </feMerge>
                 </filter>
                 `
               }
               // Shadow toggle functions, with filter caching
               function addShadow(el, {color = 'black', x = 0, y = 0, blur = 3}){
                 const id = colorToID(color);
                 if(!defs.querySelector(`#filter_${id}`)){
                   const d = document.createElementNS(NS, 'div');
                   d.innerHTML = makeShadowFilter({color, x, y, blur});
                   defs.appendChild(d.children[0]);
                 }
                 el.style.filter = `url(#filter_${id})`
               }
               function removeShadow(el){
                 el.style.filter = ''
               }
               function hash(n) {
                 var str = n + "rainbows" + n + "please" + n;
                 var hash = 0;
                 for (var i = 0; i < str.length; i++) {
                   hash = (((hash << 5) - hash) + str.charCodeAt(i)) | 0;
                 }
                 return hash > 0 ? hash : -hash;
               };
               function getColor(n, sat="80%", light="50%") {
                 const hue = hash(n) % 360;
                 return `hsl(${hue}, ${sat}, ${light})`;
               }
               // Add shadows to function body nodes, and highlight functions in the dropdown list
               function highlightFunction(i) {
                 for (var n of Array.from(document.querySelectorAll(".node ellipse"))) {
                   removeShadow(n);
                 }
                 highlight[i] = !highlight[i];
                 const entry = document.querySelector(`.dropdown-content a[id='f_${i}']`)
                 if (entry.style.backgroundColor) {
                   entry.style.backgroundColor = null;
                 } else {
                   entry.style.backgroundColor = getColor(i, "60%", "90%");
                 }
                 for (var j = 0; j < highlight.length; j++) {
                   if (highlight[j]) {
                     const col = getColor(j);
                     for (var id of func_map[j]) {
                       var n = document.querySelector(`.node[id='${id}'] ellipse`);
                       addShadow(n, {color:`${col}`});
                     }
                   }
                 }
               }
               // Show the dropdown elements when it's clicked.
               function showDropdown() {
                 document.getElementById("func-list").classList.toggle("show");
               }
               window.onclick = function(event) {
                 if (!event.target.matches('.dropbutton')) {
                   var items = Array.from(document.getElementsByClassName("dropdown-content"));
                   for (var item of items) {
                     item.classList.remove('show');
                   }
                 }
               }
              </script>
              </html>
              </body>
              